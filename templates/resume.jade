!!! html
- var marked = require("marked")
- var xdate = require("xdate")
html
  head
    meta(charset="utf-8")
    title Stuart P. Bentley: résumé
    link(rel="icon", href="stuhat.svg", size="any", type="image/svg+xml")
    link(rel="icon", href="stuhat256b.png", sizes="256x256", type="image/png")
    link(rel="icon", href="stuhat16b.png", sizes="16x16", type="image/png")
    style
      h1, h2, h3, h4, h5, h6, header, address {
        margin: 0;
        padding: 0;
      }

      abbr {
        text-decoration: none;
        border: none;
      }

      h1 {
        font: bolder 78px sans-serif;
        text-transform: uppercase;
        color: white;
        line-height: 100%;
        background: left no-repeat url("stuhat.svg");
        background-size: 78px;
        padding-left: 100px;
      }

      body {
        margin: 0; padding: 24px 32px;
        background-color: #771818;
        background-image:
          repeating-linear-gradient(-30deg, rgba(255,255,255,.1), rgba(255,255,255,.1) 1px, transparent 1px, transparent 60px),
          repeating-linear-gradient(30deg, rgba(255,255,255,.1), rgba(255,255,255,.1) 1px, transparent 1px, transparent 60px),
          linear-gradient(30deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1)),
          linear-gradient(-30deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1));
        background-image:
          -webkit-repeating-linear-gradient(-30deg, rgba(255,255,255,.1), rgba(255,255,255,.1) 1px, transparent 1px, transparent 60px),
          -webkit-repeating-linear-gradient(30deg, rgba(255,255,255,.1), rgba(255,255,255,.1) 1px, transparent 1px, transparent 60px),
          -webkit-linear-gradient(30deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1)),
          -webkit-linear-gradient(-30deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1));
        background-image:
          -moz-repeating-linear-gradient(-30deg, rgba(255,255,255,.1), rgba(255,255,255,.1) 1px, rgba(255,255,255,0) 1px, rgba(255,255,255,0) 60px),
          -moz-repeating-linear-gradient(30deg, rgba(255,255,255,.1), rgba(255,255,255,.1) 1px, rgba(255,255,255,0) 1px, rgba(255,255,255,0) 60px),
          -moz-linear-gradient(30deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1)),
          -moz-linear-gradient(-30deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1));
        background-image:
          -ms-repeating-linear-gradient(-30deg, rgba(255,255,255,.1), rgba(255,255,255,.1) 1px, transparent 1px, transparent 60px),
          -ms-repeating-linear-gradient(30deg, rgba(255,255,255,.1), rgba(255,255,255,.1) 1px, transparent 1px, transparent 60px),
          -ms-linear-gradient(30deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1)),
          -ms-linear-gradient(-30deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1));
        background-image:
          -o-repeating-linear-gradient(-30deg, rgba(255,255,255,.1), rgba(255,255,255,.1) 1px, transparent 1px, transparent 60px),
          -o-repeating-linear-gradient(30deg, rgba(255,255,255,.1), rgba(255,255,255,.1) 1px, transparent 1px, transparent 60px),
          -o-linear-gradient(30deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1)),
          -o-linear-gradient(-30deg, rgba(0,0,0,.1) 25%, transparent 25%, transparent 75%, rgba(0,0,0,.1) 75%, rgba(0,0,0,.1));
        background-size: 70px 120px;
        font-family: sans-serif;
      }

      #content {
        margin: 16px 0;
        padding: 16px;
        background-color: white;
        border-radius: 12px;
        clear: both;
      }

      address {
        font-style: normal;
        display: inline;
        float: right;
        margin-top: -8px;
        margin-bottom: 16px;
        padding: 8px 16px;
        background-color: rgba(255,255,255,.5);
        border-radius: 6px;
      }

      footer {
        margin: 16px 0;
        padding: 8px 16px;
        background-color: rgba(255,255,255,.5);
        border-radius: 6px;
      }
  body
    header.vcard
      address.adr
        span.street-address 500 Wall St, Apt. 1209
        br
        | <span class="locality">Seattle</span>, <abbr class="region" title="Washington">WA</abbr> <span class="postal-code">98121</span>
        br
        | Email: <a class="email" href="mailto:stuart@testtrack4.com">stuart@testtrack4.com</a>
        br
        | Phone: <a class="tel" href="tel:+1-610-761-0054">+1-610-761-0054</a>
      h1.fn: <span class="given-name">Stuart</span> <span class="additional-name">P.</span> <span class="family-name">Bentley</span>
    #content
      section#tech-experience
        h2 Tech Experience
        ul: for techset in data.techs
          for items, category in techset
            li #{category+": "}
              if typeof(items) == "string"
                | !{marked(items)}
              else
                for item, i in items
                  span.skill #{item}
                  | #{i < items.length-1 ? ", " : ""}
      section#work-experience
        h2 Work Experience
        - function timespan(times) { return times.from + ' - ' + times.to }
        ul: for job in data.work
          li= job.position + ', ' + job.organization + ', ' + timespan(job.timespan)
            | !{marked(job.tasks)}
      section#portfolio
        h2 Portfolio
        | !{marked(data.portfolio)}
      section#education
        h2 Education
        ul: for edu in data.education
          li= edu.accolade + ', ' + edu.institution
    footer.
      Version <span id="version">#{env.describedVersion}<span>, <span id="build-date">#{xdate().toString('MMM d yyyy')}</span>. The latest version of this resume is kept at <a href="http://stuartpbentley.com/resume.html">http://stuartpbentley.com/resume.html</a> and on GitHub at <a href="https://github.com/stuartpb/stuartpbentley.com">https://github.com/stuartpb/stuartpbentley.com</a>
